@using TrainingGuides.Web.Features.Membership.Widgets.LinkOrSignOut;
@model LinkOrSignOutWidgetViewModel

@if (Model == null || string.IsNullOrWhiteSpace(Model.ButtonText) || string.IsNullOrWhiteSpace(Model.Url))
{
    <tg-page-builder-content>
        <tg-configure-widget-instructions />
    </tg-page-builder-content>
    
    return;
}

@if (Model != null)
{
    <div class="text-center">
        <div>
            <span>@Model.Text</span>
        </div>
        <div>
            @if (Model.IsAuthenticated)
            {
                var signOutFormModel = new SignOutFormModel
                {
                    RedirectUrl = Model.Url,
                    ButtonText = Model.ButtonText
                };
                <partial name="~/Features/Membership/Widgets/LinkOrSignOut/SignOutForm.cshtml" model="signOutFormModel" />
            }
            else
            {
                <a href="@Model.Url" class="btn tg-btn-secondary text-uppercase my-4">
                    @Model.Text
                </a>
            }
        </div>
    </div>
}
